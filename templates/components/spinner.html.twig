<div id="global-spinner" class="spinner-overlay" style="display: none;">
    <div class="spinner-content text-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden">Chargement...</span>
        </div>
        <p class="mt-3 text-muted">Chargement en cours...</p>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const spinner = document.getElementById('global-spinner');
    
    const originalFetch = window.fetch;
    window.fetch = async (...args) => {
        spinner.style.display = 'flex';
        try {
            const response = await originalFetch(...args);
            return response;
        } finally {
            spinner.style.display = 'none';
        }
    };
    
    if (window.axios) {
        axios.interceptors.request.use(config => {
            spinner.style.display = 'flex';
            return config;
        });
        axios.interceptors.response.use(response => {
            spinner.style.display = 'none';
            return response;
        }, error => {
            spinner.style.display = 'none';
            return Promise.reject(error);
        });
    }
});
</script>

<style>
.spinner-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.8);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
}
.spinner-content {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.1);
}
</style>
